#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
bool balanced(vector<unordered_set<int>> mpp)
{
    return mpp[0].size() == mpp[1].size();
}
int longestBalanced(vector<int> &nums)
{
    // generate all the substrings
    int l = 0;
    int r = 0;
    int ans = 0;
    int n = nums.size();
    for (l = 0; l < n; l++)
    {
        vector<unordered_set<int>> mpp(2);
        for (r = l; r < n; r++)
        {
            mpp[nums[r] % 2].insert(nums[r]);
            if (balanced(mpp))
            {
                ans = max(r - l + 1, ans);
            }
        }
    }
    return ans;
}
int main()
{
    vector<int> nums = {9271, 9515, 15289, 11345, 6893, 9808, 6664, 9735, 7706, 9464, 5884, 10438, 12077, 12127, 11117, 9230, 138, 6163, 9698, 682, 1395, 2708, 13698, 9257, 10653, 8949, 2848, 14237, 4964, 14789, 6774, 1255, 3050, 894, 3028, 462, 379, 14961, 3531, 6337, 99, 13784, 3300, 14955, 3123, 1988, 1931, 8095, 5079, 2307, 13155, 8054, 8615, 9312, 11848, 5909, 4158, 3888, 180, 12296, 453, 11891, 5941, 7991, 10373, 10380, 9962, 12379, 14811, 13624, 13936, 12388, 4124, 8333, 12380, 8742, 10478, 8074, 10644, 4853, 15405, 12844, 12555, 16174, 9523, 956, 9852, 14657, 5347, 3821, 6356, 13736, 10312, 2177, 8212, 10906, 10688, 12260, 6565, 458, 9632, 2968, 13546, 11972, 14625, 8921, 4282, 14619, 8218, 12470, 8576, 4809, 12550, 11082, 10859, 7966, 6108, 7905, 13861, 8903, 14334, 4907, 6960, 2398, 13430, 7061, 8446, 15357};
    cout << longestBalanced(nums) << endl;
    cout << nums.size() << endl;
}